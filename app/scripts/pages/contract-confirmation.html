<wizard-page
    model="wizardPage"
    header="{{ 'REVISIO_CONFIRMACIO_DADES' | translate }}"
    page-name='confirmationPage'
    prev-page="'payerPage'"
    next-page="submitOrder(orderForm)"
    prev-text="{{ 'NO' | translate }}"
    next-text="{{ 'SI_TOT_CORRECTE' | translate }}"
    show-always='showAll'
    ready="true"
>
<div class='confirm'>
    <div class="row extra-margin-top">
        <div class="col-xs-12 text-center">
            <span class="last-help-title">{{ 'REVIEW_DATA_AND_CONFIRM' | translate }}.</span>
        </div>
    </div>
    <div class="well">
        <div class="row">
            <div class="col-xs-12 col-md-12">
                <label>{{ 'TIPUS_DE_CONTRACTACIO' | translate }}:</label>
                    <span data-ng-show="esAlta()===true">{{ 'ALTA' | translate}}</span>
                    <span data-ng-show="esAlta()===false && form.changeowner==='yes'">{{ 'CANVI_DE_COMERCIALITZADORA_I_TITULAR' | translate}}</span>
                    <span data-ng-show="esAlta()===false && form.changeowner==='no'">{{ 'CANVI_DE_COMERCIALITZADORA' | translate}}</span>
            </div>
            <div class="col-xs-12 col-md-12">
                <label>{{ 'SOCI_VINCULAT' | translate }}:</label>
                <span>{{ initForm.soci.nom + ' ' + initForm.soci.cognom }}</span>
            </div>
        </div>
    </div>
    <!--DADES_PUNT_SUBMINISTRAMENT-->
    <div class="well">
        <div class="row">
            <div class="col-xs-12">
                <h4>{{ 'DADES_PUNT_SUBMINISTRAMENT' | translate }}</h4>
            </div>
            <div class="col-xs-12">
                <label>{{ 'ADRECA' | translate }}:</label><span>{{ form.cupsAddress }}</span>
            </div>
            <div class="col-xs-6">
                <label>{{ 'POBLACIO' | translate }}:</label><span>{{ form.city.name }}</span>
            </div>
            <div class="col-xs-6">
                <label>{{ 'PROVINCIA' | translate }}:</label><span>{{ form.province.name }}</span>
            </div>
            <div class="col-xs-6">
                <label>CUPS:</label><span>{{ cupsEditor.value }}</span>
            </div>
            <div class="col-xs-6">
                <label>CNAE:</label><span>{{ cnaeEditor.value }}</span>
            </div>
            <div class="col-xs-6">
                <label>{{ 'TARIFA' | translate }}:</label><span>{{ form.rate }}</span>
            </div>
            <div class="col-xs-12" data-ng-show="form.rate != '3.0A'">
                <label>{{ 'POTENCIA_CONTRACTADA' | translate }}:</label><span>{{ form.power }} kW</span>
            </div>
            <div data-ng-show="form.rate == '3.0A'">
                <div class="col-xs-4">
                    <label>P1:</label><span>{{ form.power }} kW</span>
                </div>
                <div class="col-xs-4">
                    <label>P2:</label><span>{{ form.power2 }} kW</span>
                </div>
                <div class="col-xs-4">
                    <label>P3:</label><span>{{ form.power3 }} kW</span>
                </div>
            </div>
            <div class="col-xs-12" data-ng-show="cadastreEditor.value">
                <label>{{ 'REFERENCIA_CADASTRAL' | translate }}:</label><span>{{ cadastreEditor.value }}</span>
            </div>
        </div>
    </div>
    <!--DADES_TITULAR_NOU_CONTRACTE-->
    <div class="well">
        <div class="row">
            <div class="col-xs-12">
                <h4>{{ 'DADES_TITULAR_NOU_CONTRACTE' | translate }}</h4>
            </div>
            <div class="col-xs-6">
                <label>{{ 'NOM' | translate }}:</label><span>{{ form.ownerIsMember == 'yes' ? initForm.soci.nom : owner.name }}</span>
            </div>
            <div class="col-xs-6">
                <label>{{ 'COGNOMS' | translate }}:</label><span>{{ form.ownerIsMember == 'yes' ? initForm.soci.cognom : owner.surname }}</span>
            </div>
            <div class="col-xs-6">
                <label>NIF:</label><span>{{ form.ownerIsMember == 'yes' ? initForm.soci.dni : owner.dni }}</span>
            </div>
            <div class="col-xs-6">
                <label>{{ 'IDIOMA' | translate}}:</label><span>{{ form.ownerIsMember == 'yes' ? initForm.soci.langname : owner.language.name }}</span>
            </div>
            <div class="col-xs-6">
                <label>Email:</label><span>{{ form.ownerIsMember == 'yes' ? initForm.soci.email : owner.email1 }}</span>
            </div>
            <div class="col-sm-3 col-xs-6">
                <label>{{ 'TELEFON' | translate }}:</label><span>{{ form.ownerIsMember == 'yes' ? initForm.soci.tel : owner.phone1 }}</span>
            </div>
            <div data-ng-show="form.ownerIsMember == 'yes' && initForm.soci.tel2 || form.ownerIsMember == 'no' && owner.phone2" class="col-sm-3 col-xs-6">
                <label>{{ 'TELEFON' | translate }} 2:</label><span>{{ form.ownerIsMember == 'yes' ? initForm.soci.tel2 : owner.phone2 }}</span>
            </div>
        </div>
    </div>
    <!--DADES_PAGAMENT-->
    <div class="well">
        <div class="row">
            <div class="col-xs-12">
                <h4>{{ 'DADES_PAGAMENT' | translate }}</h4>
            </div>
        </div>
        <div data-ng-if="form.choosepayer == 'soci' || (form.choosepayer == 'titular' && form.ownerIsMember == 'yes')">
            <!--PAYER_PARTNER-->
            <div class="row">
                <div class="col-xs-6">
                    <label>{{ 'NOM_O_RAO_SOCIAL' | translate }}:</label><span>{{ initForm.soci.nom }}</span>
                </div>
                <div class="col-xs-6">
                    <label>{{ 'COGNOMS' | translate }}:</label><span>{{ initForm.soci.cognom }}</span>
                </div>
                <div class="col-xs-6">
                    <label>NIF:</label><span>{{ initForm.soci.dni }}</span>
                </div>
                <div class="col-xs-6">
                    <label>{{ 'IDIOMA' | translate}}:</label><span>{{ initForm.soci.langname }}</span>
                </div>
                <div class="col-xs-6">
                    <label>Email:</label><span>{{ initForm.soci.email }}</span>
                </div>
                <div class="col-sm-3 col-xs-6">
                    <label>{{ 'TELEFON' | translate }}:</label><span>{{ initForm.soci.tel }}</span>
                </div>
                <div data-ng-show="initForm.soci.tel2" class="col-sm-3 col-xs-6">
                    <label>{{ 'TELEFON' | translate }} 2:</label><span>{{ initForm.soci.tel2 }}</span>
                </div>
            </div>
        </div>
        <div data-ng-if="form.choosepayer === 'titular' && form.ownerIsMember === 'no'">
            <!--PAYER_OWNER-->
            <div class="row">
                <div class="col-xs-6">
                    <label>{{ 'NOM_O_RAO_SOCIAL' | translate }}:</label><span>{{ owner.name }}</span>
                </div>
                <div class="col-xs-6">
                    <label>{{ 'COGNOMS' | translate }}:</label><span>{{ owner.surname }}</span>
                </div>
                <div class="col-xs-6">
                    <label>NIF:</label><span>{{ owner.dni }}</span>
                </div>
                <div class="col-xs-6">
                    <label>{{ 'IDIOMA' | translate}}:</label><span>{{ owner.language.name }}</span>
                </div>
                <div class="col-xs-6">
                    <label>Email:</label><span>{{ owner.email1 }}</span>
                </div>
                <div class="col-sm-3 col-xs-6">
                    <label>{{ 'TELEFON' | translate }}:</label><span>{{ owner.phone1 }}</span>
                </div>
                <div class="col-sm-3 col-xs-6" data-ng-show="owner.phone2">
                    <label>{{ 'TELEFON' | translate }}:</label><span>{{ owner.phone2 }}</span>
                </div>
            </div>
        </div>
        <div data-ng-if="form.choosepayer == 'altre'">
            <!--PAYER_OTHER-->
            <div class="row">
                <div class="col-xs-6">
                    <label>{{ 'NOM_O_RAO_SOCIAL' | translate }}:</label>
                        <span>{{ payer.name }}</span>
                </div>
                <div class="col-xs-6">
                    <label>{{ 'COGNOMS' | translate }}:</label>
                        <span>{{ payer.surname }}</span>
                </div>
                <div class="col-xs-6">
                    <label>NIF:</label>
                        <span>{{ payer.dni }}</span>
                </div>
                <div class="col-xs-6">
                    <label>Email:</label>
                        <span>{{ payer.email1 }}</span>
                </div>
                <div class="col-xs-6">
                    <label>{{ 'IDIOMA' | translate }}:</label>
                        <span>{{ payer.language.name }}</span>
                </div>
                <div class="col-sm-3 col-xs-6">
                    <label>{{ 'TELEFON' | translate }}:</label>
                        <span>{{ payer.phone1 }}</span>
                </div>
                <div class="col-sm-3 col-xs-6" data-ng-show="payer.phone2">
                    <label>{{ 'TELEFON' | translate }} 2:</label>
                        <span>{{ payer.phone2 }}</span>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12">
                <label>{{ 'NUM_COMPTE' | translate }}:</label>
                    <span>{{ getCompleteIbanWithFormat() }}</span>
            </div>
            <div class="col-xs-12">
                <label>{{ 'DONATIU_VOLUNTARI' | translate }}:</label>
                    <span data-ng-show="form.voluntary == 'yes'" translate="SI"></span>
                    <span data-ng-show="form.voluntary == 'no'" translate="NO"></span>
            </div>
        </div>
    </div>
    <!--TARIFES-->
    <div class="well">
        <div class="row">
            <div class="col-xs-12">
                <h4>{{ 'TARIFES' | translate }}</h4>
            </div>
            <div class="col-xs-12 col-sm-6">
                <label>{{ 'TERME_ENERGIA' | translate }}:</label>
                <div data-ng-show="prices.te.P1">{{ prices.te.P1.value }} {{ prices.te.P1.uom }}</div>
                <div data-ng-show="prices.te.P2">{{ prices.te.P2.value }} {{ prices.te.P2.uom }}</div>
                <div data-ng-show="prices.te.P3">{{ prices.te.P3.value }} {{ prices.te.P3.uom }}</div>
            </div>
            <div class="col-xs-12 col-sm-6">
                <label>{{ 'GENERATION' | translate }}:</label>
                <div data-ng-show="prices.gkwh.P1">{{ prices.gkwh.P1.value }} {{ prices.gkwh.P1.uom }}</div>
                <div data-ng-show="prices.gkwh.P2">{{ prices.gkwh.P2.value }} {{ prices.gkwh.P2.uom }}</div>
                <div data-ng-show="prices.gkwh.P3">{{ prices.gkwh.P3.value }} {{ prices.gkwh.P3.uom }}</div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-6">
                <label>{{ 'TERME_POTENCIA' | translate }}:</label>
                <div data-ng-show="prices.tp.P1">{{ prices.tp.P1.value }} {{ prices.tp.P1.uom }}</div>
                <div data-ng-show="prices.tp.P2">{{ prices.tp.P2.value }} {{ prices.tp.P2.uom }}</div>
                <div data-ng-show="prices.tp.P3">{{ prices.tp.P3.value }} {{ prices.tp.P3.uom }}</div>
            </div>
            <div class="col-xs-12 col-sm-6">
                <label>{{ 'AUTOCONSUM' | translate }}:</label>
                <div data-ng-show="prices.ac.P1">{{ prices.ac.P1.value }} {{ prices.ac.P1.uom }}</div>
                <div data-ng-show="prices.ac.P2">{{ prices.ac.P2.value }} {{ prices.ac.P2.uom }}</div>
                <div data-ng-show="prices.ac.P3">{{ prices.ac.P3.value }} {{ prices.ac.P3.uom }}</div>
            </div>
        </div>
    </div>
</div>
</wizard-page>
